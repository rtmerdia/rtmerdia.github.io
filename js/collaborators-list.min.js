/**
 * Collaborators List Filtering System - Minified Version
 * Optimized for production use
 */
!function(){"use strict";let t={threat:"all",status:"all"},e=[],r=[],a=null;function l(){e=Array.from(document.querySelectorAll(".collaborator-card")),r=Array.from(document.querySelectorAll(".filter-btn")),a=document.getElementById("results-count"),r.forEach(t=>{t.addEventListener("click",n)}),s()}const o=function(t,e){let r;return function(...a){const l=()=>{clearTimeout(r),t(...a)};clearTimeout(r),r=setTimeout(l,e)}}(s,100);function n(e){e.preventDefault();const r=e.currentTarget,a=r.dataset.type,l=r.dataset.filter;!function(t,e){document.querySelectorAll(`.filter-btn[data-type="${t}"]`).forEach(t=>t.classList.remove("active")),e.classList.add("active")}(a,r),t[a]=l,o()}function s(){let r=0;e.forEach(e=>{const a=c(e.getAttribute("data-threat-rank")),l=c(e.getAttribute("data-status")),o="all"===t.threat||c(t.threat)===a,n="all"===t.status||c(t.status)===l;o&&n?(e.style.display="block",e.classList.remove("filtered-out"),r++):(e.style.display="none",e.classList.add("filtered-out"))}),function(t){a&&(a.textContent=t)}(r),function(t){let e=document.querySelector(".no-results-message");if(t&&!e){e=document.createElement("div"),e.className="no-results-message",e.innerHTML='\n                <div class="no-results-content">\n                    <p><strong>Aucun collaborateur ne correspond aux filtres sélectionnés.</strong></p>\n                    <p>Essayez de modifier vos critères de filtrage ou <button class="reset-filters-btn">réinitialiser tous les filtres</button>.</p>\n                </div>\n            ';const r=document.querySelector(".collaborators-filters");r&&r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r&&r.parentNode.appendChild(e);const a=e.querySelector(".reset-filters-btn");a&&a.addEventListener("click",i)}else!t&&e&&e.remove()}(0===r)}function c(t){return t&&"undefined"!==t&&"null"!==t?t.toLowerCase().replace(/é/g,"e").replace(/è/g,"e").replace(/à/g,"a").replace(/ç/g,"c").replace(/ô/g,"o").replace(/ù/g,"u").trim():"unknown"}function i(){t={threat:"all",status:"all"},r.forEach(t=>{const e=t.getAttribute("data-filter");"all"===e?t.classList.add("active"):t.classList.remove("active")}),s()}function u(){document.addEventListener("keydown",function(t){"Escape"===t.key&&i()})}function d(){const e=window.location.hash.substring(1);if(e){const r=new URLSearchParams(e),a=r.get("threat"),l=r.get("status");a&&(t.threat=a),l&&(t.status=l),function(){r.forEach(e=>{const r=e.getAttribute("data-type"),a=e.getAttribute("data-filter");t[r]===a?e.classList.add("active"):e.classList.remove("active")})}()}window.addEventListener("hashchange",function(){window.location.hash.substring(1)||i()})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){l(),u(),d()}):(l(),u(),d()),window.CollaboratorsFilter={reset:i,applyFilters:s,getCurrentFilters:function(){return{...t}}}}();